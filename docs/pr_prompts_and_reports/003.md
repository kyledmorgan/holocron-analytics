# PR #3: Mature JSON seed data with comprehensive synthetic dataset (5358 rows)

## Header

| Field | Value |
|---|---|
| **PR Number** | 3 |
| **Title** | Mature JSON seed data with comprehensive synthetic dataset (5358 rows) |
| **URL** | https://github.com/kyledmorgan/holocron-analytics/pull/3 |
| **State** | merged |
| **Created** | 2026-01-17T05:09:37Z |
| **Updated** | 2026-01-17T05:42:07Z |
| **Merged** | 2026-01-17T05:42:07Z |
| **Base branch** | `working_20260115` |
| **Head branch** | `copilot/update-json-seed-data-files` |
| **Merge commit SHA** | `0df683a0233c78b9c0abaf973a4af896c55851b1` |

---

## PR Body

Seed data was minimal (~20 rows). This PR expands to 5,358 rows across all 24 tables with focus on Episode IV broadly, Trench Run sequence (space flight only), and Duel of Fates sequence.

## New Tables
- `DimShipModel` (10 rows) - ship class definitions
- `DimWeaponModel` (8 rows) - weapon class definitions  
- `DimOrganization` (50 rows) - factions and organizations

## Expanded Coverage
- **DimEntity**: 450 rows (characters, droids, species, locations, orgs, tech instances)
- **DimEventType**: 52 event types (combat, force, tactical, state, vehicle operations)
- **DimScene**: 88 scenes (57 ANH, 27 TPM, 4 other works)
- **FactEvent**: 1,000 events with focus sequences:
  - Trench Run (scenes 39-55): 172 events
  - Duel of Fates (scenes 27-43): 85 events
- **BridgeEventParticipant**: 2,000 entries
- **BridgeEventAsset**: 500 entries
- **FactClaim**: 500 claims

## Loader Change
```python
# Added to LOAD_ORDER in db_loader.py
"DimShipModel",
"DimWeaponModel", 
"DimOrganization",
```

## Validation
- All FK relationships validated
- Dry-run passes for all 24 seed files
- No copyrighted content; synthetic data only with proper nouns as identifiers

<!-- START COPILOT CODING AGENT SUFFIX -->



<!-- START COPILOT ORIGINAL PROMPT -->



<details>

<summary>Original prompt</summary>

You are GitHub Copilot Agent Mode. Your task in this PR is to mature ONLY the JSON seed data files (breadth + depth) so that our existing seed loader can truncate + reload the database successfully with a much richer synthetic dataset.

SCOPE (DO THIS, AND ONLY THIS)
- Update/add seed JSON files under `src/db/seeds/data/` to significantly increase record counts and coverage across ALL existing tables (dims, facts, bridges).
- Ensure the existing loader can load the new seeds without code changes.
- Run the seed loader in the existing harness (Docker Compose or local) to confirm all seeds load successfully (no FK/constraint violations).
- No functional changes to Python loader code, SQL DDL, or documentation in this phase (except very small corrections if absolutely necessary to make seeds load; prefer to fix data instead of code).
- Keep all data synthetic. Do NOT add copyrighted dialogue, script excerpts, or plot summaries. Avoid verbatim quotes. Use short, factual-ish labels and synthetic timestamps.

PRIMARY GOALS
1) Breadth: every DIM / FACT / BRIDGE table has a meaningful dataset.
2) Depth: aim for a minimum of ~100 rows per table where it makes sense.
   - Tables that should be ‚Äúhundreds‚Äù if feasible: characters, events, scenes, species, tech assets/instances (droids/ships/weapons).
   - If a table is naturally small (e.g., Franchise), keep it small but complete.
3) Internal consistency: all relationships (FKs) must be valid; event spine must ‚Äúhang together.‚Äù
4) Focus areas for deep detail:
   A) Episode IV: A New Hope (overall breadth)
   B) Episode IV ‚ÄúTrench Run‚Äù (deep, but constrained):
      - Start: launch from Yavin 4 base into spaceflight
      - End: Death Star destroyed and immediate celebration of the pilots involved
      - EXCLUDE: Death Star control-room / boardroom / intercut command scenes.
      - INCLUDE ONLY: entities/locations/assets in the space flight sequence (pilots, ships, Vader, wingmen, R2 units if relevant, etc.)
   C) Episode I ‚ÄúDuel of the Fates‚Äù fight segment (deep sequence):
      - Start: doors open and Darth Maul is revealed
      - End: Maul is severed and falls
      - INCLUDE the early presence of Padme + others who are initially in vicinity, and Anakin being told to leave
      - Focus on actions (force uses, strikes, separations, rejoining, injury/death), minimal/no dialogue fields.
      - Model as a sequence of events with participants, locations, and time order.

DATA RULES / CONVENTIONS (VERY IMPORTANT)
- Use the seed format defined in `src/db/seeds/README.md` and match existing sample seed files.
- Respect table columns exactly as expected by the loader and DDL (introspect the DDL under `src/db/ddl/**` and existing seed examples).
- Do not include identity PKs (e.g., `CharacterKey`) unless the seed format explicitly enables identity insert for that file (prefer NOT).
- Every row must include the table GUID column (e.g., `CharacterGuid`, `EventGuid`, etc.). GUIDs must be unique and stable.
- For foreign keys in seed rows:
  - Use the loader‚Äôs supported reference mechanism (typically: provide the referenced table‚Äôs GUID column value in a `{ReferencedTable}Guid` field if the loader maps it, OR use the explicit FK integer if and only if identity insert is enabled and deterministic. Prefer GUID-based referencing.)
  - Follow whatever approach the current loader already supports; do NOT change loader logic.
- SCD-ish columns (names may vary): ensure plausible defaults:
  - `IsActive = true`, `IsLatest = true`
  - `CreatedUtc` / `UpdatedUtc` use reasonable synthetic timestamps
  - `RowChecksum` is handled by loader if omitted (if loader expects it, follow existing seed pattern)
- JSON ‚Äúextra‚Äù column convention:
  - If a table has `ExtraJson` / `AttributesJson` / similar, populate it with small JSON objects (varied keys) to exercise the column without overfitting.
  - Keep values synthetic and compact.

CONTENT SAFETY / IP SAFETY
- No script excerpts, no quotes, no copyrighted narrative text.
- Keep `SummaryShort` and `Notes` short and factual-ish (e.g., ‚Äúpilot‚Äù, ‚Äúdroid companion‚Äù, ‚Äúspace battle event‚Äù) and do NOT reproduce plot narration.
- It is OK to use proper nouns (character names, ship names) as those are identifiers; avoid copying long descriptive prose from any wiki.

IMPLEMENTATION PLAN (FOLLOW THIS ORDER)
1) Introspect the current state:
   - List all seed files and the target tables they cover.
   - List all required tables from the DDL folders:
     - `01_dimensions` (all Dim*)
     - `02_facts` (FactEvent, FactClaim, ContinuityIssue, etc.)
     - `03_bridges` (Bridge*)
   - Identify any table missing a seed file or significantly under-populated.

2) Establish a deterministic ‚Äúmini-universe‚Äù structure:
   - Franchise: Star Wars
   - Continuity frames: Canon, Legends (and optionally ‚ÄúAltCut‚Äù)
   - Eras + anchors: include BBY/ABY-style with anchor year concept; include enough to support events.
   - Works: cover broad set across films (at least Episode...

</details>



<!-- START COPILOT CODING AGENT TIPS -->
---

üí¨ We'd love your input! Share your thoughts on Copilot coding agent in our [2 minute survey](https://gh.io/copilot-coding-agent-survey).

---

## Comments

_No comments._

---

## Review Comments (inline diff)

_No inline review comments._

---

## Copilot Artifacts

_No Copilot artifact indicators detected._
