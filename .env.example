# Example environment variables (no secrets)
# Copy to .env and fill locally

APP_ENV=local
LOG_LEVEL=info

# =============================================================================
# DOCKER COMPOSE SETTINGS (Required for `docker compose up`)
# =============================================================================

# SQL Server SA password - MUST meet complexity requirements:
# - At least 8 characters
# - Uppercase, lowercase, number, and special character
MSSQL_SA_PASSWORD=Password1!

# Database name to create/use
MSSQL_DATABASE=Holocron

# Set to "true" to skip running the seed loader
SEED_SKIP=false

# =============================================================================
# NATIVE (NON-DOCKER) SEED LOADER SETTINGS
# =============================================================================
# These settings are used when running the seed loader natively (without Docker).
# Docker Compose constructs its own connection from MSSQL_* variables above.

# Option 1: Full ODBC connection string
# SEED_SQLSERVER_CONN_STR="Driver={ODBC Driver 18 for SQL Server};Server=localhost;Database=Holocron;UID=sa;PWD=YourPassword;TrustServerCertificate=yes"

# Option 2: Discrete connection variables (used if SEED_SQLSERVER_CONN_STR is not set)
SEED_SQLSERVER_HOST=localhost
SEED_SQLSERVER_DATABASE=Holocron
SEED_SQLSERVER_USER=sa
SEED_SQLSERVER_PASSWORD=Password1!
SEED_SQLSERVER_PORT=1433
SEED_SQLSERVER_DRIVER=ODBC Driver 18 for SQL Server

# =============================================================================
# INGEST STATE STORE SETTINGS
# =============================================================================
# These settings configure the state store backend for the ingestion framework.
# The state store manages work queue, dedupe, and run tracking.

# Backend selection: SQL Server (only supported backend)
DB_BACKEND=sqlserver

# SQL Server state store connection
# Option 1: Full ODBC connection string
# INGEST_SQLSERVER_STATE_CONN_STR="Driver={ODBC Driver 18 for SQL Server};Server=localhost;Database=Holocron;UID=sa;PWD=YourPassword;TrustServerCertificate=yes"

# Option 2: Discrete connection variables
INGEST_SQLSERVER_HOST=localhost
INGEST_SQLSERVER_DATABASE=Holocron
INGEST_SQLSERVER_USER=sa
INGEST_SQLSERVER_PASSWORD=Password1!
INGEST_SQLSERVER_PORT=1433
INGEST_SQLSERVER_DRIVER=ODBC Driver 18 for SQL Server
INGEST_SQLSERVER_SCHEMA=ingest

# =============================================================================
# OLLAMA / LLM SETTINGS
# =============================================================================
# These settings configure the Ollama LLM provider for the LLM-Derived Data subsystem.

# Base URL for Ollama API
# - From host machine (manual testing): http://localhost:11434
# - From other containers in Compose: http://ollama:11434
OLLAMA_BASE_URL=http://ollama:11434

# Optional: Host-accessible URL for manual testing from Windows host
# Use this when running Python scripts directly on your host machine.
OLLAMA_HOST_BASE_URL=http://localhost:11434

# Default model to use for LLM operations
# Pull first with: docker exec -it holocron-ollama ollama pull llama3.2
OLLAMA_MODEL=llama3.2

# Request timeout in seconds (LLM inference can be slow)
OLLAMA_TIMEOUT_SECONDS=120

# Streaming mode (false recommended for reproducibility and artifact capture)
OLLAMA_STREAM=false

# =============================================================================
# LLM RUNNER SETTINGS (Phase 1)
# =============================================================================
# These settings configure the Phase 1 LLM Runner.

# Worker identifier (for job locking and tracking)
WORKER_ID=llm-runner-local

# Polling interval for job queue (seconds)
POLL_SECONDS=10

# Lake root directory for artifact storage
LAKE_ROOT=lake/llm_runs

# SQL Server connection for LLM queue (defaults to INGEST_* or MSSQL_* if not set)
# LLM_SQLSERVER_HOST=localhost
# LLM_SQLSERVER_DATABASE=Holocron
# LLM_SQLSERVER_USER=sa
# LLM_SQLSERVER_PASSWORD=Password1!
# LLM_SQLSERVER_PORT=1433
# LLM_SQLSERVER_DRIVER=ODBC Driver 18 for SQL Server
LLM_SQLSERVER_SCHEMA=llm

